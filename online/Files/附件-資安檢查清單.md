# 安全檢查清單參考
---

## A. 開發流程

*   ☐ **Dependency scan**：執行 `npm audit` / `yarn audit` / `pip-audit` 或設定 Dependabot/Renovate。(檢查你專案使用的外部程式碼是否有已知漏洞)
*   ☐ **Secrets scan**：在 CI/CD 流程中加入 `gitleaks` / `truffleHog` 等工具，防止金鑰洩漏。(自動檢查程式碼中是否不小心洩漏了敏感的金鑰或密碼)
*   ☐ **SAST（靜態掃描）**：在 Pull Request 流程中執行 `semgrep` / `CodeQL` 等基礎掃描。(在程式碼還沒運行前，就自動檢查是否有常見的安全漏洞)
*   ☐ **Pull Request**：重要改動（如認證、金流）要求至少一位資深人員審核。(確保關鍵程式碼變動有資深或資安專家把關)
*   ☐ **CI 不洩露 secrets**：確認 CI/CD 的日誌不會印出任何密鑰或敏感資訊。(防止自動化部署過程中的日誌意外暴露敏感資料)

---

## B. 前端（Browser）檢查

*   ☐ **XSS 防護**：確認所有使用者輸入在顯示時都經過處理（Output Encoding）。(防止惡意程式碼透過使用者輸入，在其他人的瀏覽器上執行)
*   ☐ **Content Security Policy (CSP)**：設定基本的 CSP，限制可執行的腳本來源。(限制網頁只能從信任的來源載入內容，減少被攻擊的風險)
*   ☐ **避免 `dangerouslySetInnerHTML`**：在 React 中，盡量避免使用此屬性，或清楚註明風險。(避免直接將未經處理的 HTML 插入網頁，這可能導致 XSS 漏洞)
*   ☐ **第三方腳本風險控管**：盤點所有外來的 JS（如客服、分析工具），了解其用途與風險。(管理你網站使用的外部程式碼，防止它們被駭客利用)
*   ☐ **Cookie 安全設定**：設定 `HttpOnly`, `Secure`, `SameSite=Lax` 或 `Strict`。(保護網站的 Cookie 不被惡意腳本竊取或濫用)
*   ☐ **CORS 來源限制**：後端不應設定 `Access-Control-Allow-Origin: *`，應指定前端的網域。(限制哪些網站可以向你的後端發送請求，防止跨站攻擊)
*   ☐ **安全相關 HTTP Header**：設定 `X-Frame-Options`, `X-Content-Type-Options` 等。(透過瀏覽器設定，增加網站的安全性，例如防止被嵌入惡意框架)

---

## C. 後端、認證與授權

*   ☐ **驗證（Authentication）機制**：採用標準的 OAuth2 / JWT / Session 機制。(確保只有合法的使用者才能登入你的系統)
*   ☐ **Token 管理**：使用有時效性的 Access Token，並搭配 Refresh Token 機制。(使用有期限的通行證，即使被偷也很快失效，並有更新機制)
*   ☐ **最小權限原則**：確認每個 API 都從後端驗證使用者權限，不可相信前端傳來的值。(後端必須再次確認使用者是否有權限執行某操作，不能只相信前端的判斷)
*   ☐ **輸入驗證**：所有來自前端的資料，後端都必須重新驗證其格式、長度與類型。(後端必須再次檢查所有收到的資料是否合法，防止惡意輸入)
*   ☐ **SQL / NoSQL 注入防護**：使用參數化查詢（Parameterized Query）或 ORM。(防止惡意輸入竄改資料庫查詢語句，竊取或破壞資料)
*   ☐ **速率限制（Rate Limiting）**：針對登入、發送驗證碼等重要 API 設定請求頻率上限。(限制使用者在短時間內發送請求的次數，防止暴力破解或濫用)
*   ☐ **錯誤處理**：線上環境的錯誤訊息不應洩漏程式碼細節或 Stack Traces。(防止錯誤訊息暴露伺服器內部資訊，讓攻擊者有機可乘)

---

## D. 基礎設施與部署

*   ☐ **Secrets 管理**：使用專門的服務（如 Vault、AWS/GCP Secrets Manager）管理密鑰，而非寫在設定檔。(將敏感資訊（如資料庫密碼）安全地儲存和管理，而不是直接寫在程式碼或設定檔中)
*   ☐ **網路隔離**：資料庫等核心服務不應直接暴露於公網。(將重要的內部服務與外部網路隔開，減少被直接攻擊的風險)
*   ☐ **日誌 & 監控**：建立集中的日誌系統，並設定關鍵錯誤或異常流量的告警。(記錄系統運行狀況，並在發生異常時及時通知，以便發現和應對攻擊)
*   ☐ **備份與還原計畫**：定期備份資料，並確保有可行的還原演練計畫。(確保資料安全，即使被攻擊也能快速恢復服務)

---

## E. No-code / Low-code / 第三方平台

*   ☐ **平台安全評估**：了解所用平台的資安政策與其提供的安全功能。(評估你使用的第三方平台是否足夠安全，以及它提供了哪些安全保障)
*   ☐ **敏感流程隔離**：金流、核心認證等流程盡量由自己掌控的後端處理。(將涉及金錢或重要身份驗證的環節，放在自己能完全控制的後端處理)
*   ☐ **權限分級**：限制團隊成員在這些平台上的編輯與管理權限。(根據團隊成員的職責，給予最小的平台操作權限)
*   ☐ **Webhook 安全**：驗證傳入的 Webhook 請求是否來自可信的來源。(檢查收到的自動通知（Webhook）是否真的來自你信任的服務，防止偽造)

---

## F. 針對常見威脅的快速檢查

*   ☐ **XSS**：在留言板、個人資料等所有使用者可輸入內容的地方，嘗試輸入 `<h1>test</h1>`，看是否被當成 HTML 執行。(手動測試網站是否容易受到 XSS 攻擊)
*   ☐ **CSRF**：確認修改使用者資料、轉帳等重要操作，有使用 CSRF Token 或 SameSite Cookie 保護。(檢查重要操作是否受到 CSRF 攻擊的保護)
*   ☐ **依賴套件安全**：定期掃描專案使用的第三方套件是否有已知漏洞。(定期檢查你專案使用的外部程式碼是否有已知的安全漏洞)
*   ☐ **API Key/Secret 洩漏**：確認程式碼庫中沒有硬編碼（Hardcode）任何密鑰。(檢查程式碼中是否不小心直接寫入了敏感的金鑰或密碼)