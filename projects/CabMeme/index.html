<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cab Math 計算機 - 搞笑數學計算機 | 16-9 和 25×4 的驚人答案</title>
    
    <!-- Primary Meta Tags -->
    <meta name="title" content="Cab Math 計算機 - 搞笑數學計算機 | 16-9 和 25×4 的驚人答案">
    <meta name="description" content="體驗最搞笑的數學計算機！看看人工智慧如何計算 16-9 和 25×4，結果保證讓你大吃一驚。一個充滿幽默和驚喜的互動式計算機。">
    <meta name="keywords" content="搞笑計算機, 數學梗, 16-9, 25×4, 人工計算, 互動遊戲, 數學幽默, CabMeme, 迷因計算機">
    <meta name="author" content="CabMeme">
    <meta name="robots" content="index, follow">
    <meta name="language" content="zh-TW">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://cabmeme.com/">
    <meta property="og:title" content="Cab Math 計算機 - 搞笑數學計算機">
    <meta property="og:description" content="體驗最搞笑的數學計算機！看看人工智慧如何計算 16-9 和 25×4，結果保證讓你大吃一驚。">
    <meta property="og:image" content="https://cabmeme.com/og-image.jpg">
    <meta property="og:site_name" content="CabMeme">
    <meta property="og:locale" content="zh_TW">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://cabmeme.com/">
    <meta property="twitter:title" content="Cab Math 計算機 - 搞笑數學計算機">
    <meta property="twitter:description" content="體驗最搞笑的數學計算機！看看人工智慧如何計算 16-9 和 25×4。">
    <meta property="twitter:image" content="https://cabmeme.com/twitter-image.jpg">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://cabmeme.com/">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="/favicon.png">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    <!-- Structured Data (JSON-LD) -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "Cab Math 計算機",
      "description": "搞笑數學計算機，展示人工智慧計算 16-9 和 25×4 的幽默結果",
      "url": "https://cabmeme.com/",
      "applicationCategory": "EntertainmentApplication",
      "operatingSystem": "Any",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "TWD"
      },
      "author": {
        "@type": "Organization",
        "name": "CabMeme",
        "url": "https://cabmeme.com"
      },
      "aggregateRating": {
        "@type": "AggregateRating",
        "ratingValue": "4.8",
        "reviewCount": "1337"
      },
      "video": [
        {
          "@type": "VideoObject",
          "name": "16-9 人工計算示範",
          "description": "看看人工智慧如何計算 16-9",
          "thumbnailUrl": "https://cabmeme.com/thumbnail.jpg",
          "contentUrl": "https://cabmeme.com/video.mp4",
          "uploadDate": "2025-01-15",
          "duration": "PT30S"
        },
        {
          "@type": "VideoObject",
          "name": "25×4 人工計算示範",
          "description": "25×4 的驚人答案",
          "thumbnailUrl": "https://cabmeme.com/thumbnail-25x4.jpg",
          "contentUrl": "https://cabmeme.com/25x4.mp4",
          "uploadDate": "2025-01-15",
          "duration": "PT30S"
        }
      ]
    }
    </script>
    
    <!-- Performance Hints -->
    <link rel="dns-prefetch" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;600;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Space Grotesk', sans-serif;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background: #0a0a0a;
            overflow: hidden;
            position: relative;
        }
        
        body::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 50%, rgba(120, 119, 198, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(255, 119, 198, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 40% 20%, rgba(255, 206, 84, 0.2) 0%, transparent 50%),
                radial-gradient(circle at 80% 10%, rgba(120, 255, 198, 0.2) 0%, transparent 50%);
            filter: blur(100px);
            animation: float 20s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translate(0, 0) rotate(0deg); }
            33% { transform: translate(-20px, -20px) rotate(1deg); }
            66% { transform: translate(20px, -10px) rotate(-1deg); }
        }

        .calculator-container {
            position: relative;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-radius: 30px;
            padding: 45px;
            box-shadow: 
                0 0 0 1px rgba(255, 255, 255, 0.1),
                0 20px 40px rgba(0, 0, 0, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.2),
                inset 0 -1px 0 rgba(255, 255, 255, 0.1);
            text-align: center;
            max-width: 420px;
            width: 90%;
            border: 1px solid rgba(255, 255, 255, 0.08);
            background-image: 
                radial-gradient(circle at top left, rgba(255, 255, 255, 0.1) 0%, transparent 40%),
                radial-gradient(circle at bottom right, rgba(255, 255, 255, 0.05) 0%, transparent 40%);
            z-index: 10;
        }
        
        .calculator-container::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, 
                rgba(255, 119, 198, 0.3),
                rgba(120, 119, 198, 0.3),
                rgba(255, 206, 84, 0.3),
                rgba(120, 255, 198, 0.3),
                rgba(255, 119, 198, 0.3));
            border-radius: 30px;
            z-index: -1;
            opacity: 0.7;
            animation: gradient-border 3s ease infinite;
        }
        
        @keyframes gradient-border {
            0%, 100% { opacity: 0.5; }
            50% { opacity: 0.8; }
        }

        h1 {
            color: #ffffff;
            margin-bottom: 35px;
            font-size: 2.5em;
            font-weight: 700;
            letter-spacing: -1px;
            background: linear-gradient(135deg, #ffffff 0%, rgba(255, 255, 255, 0.7) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 0 0 30px rgba(255, 255, 255, 0.3);
            position: relative;
        }
        
        h1::after {
            content: 'PRO';
            position: absolute;
            top: -10px;
            right: -45px;
            font-size: 0.3em;
            background: linear-gradient(135deg, #ff77c6 0%, #7877c6 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 600;
            letter-spacing: 2px;
            padding: 2px 8px;
            border: 1px solid rgba(255, 119, 198, 0.3);
            border-radius: 20px;
        }

        .display {
            width: 100%;
            height: 70px;
            font-size: 28px;
            font-weight: 600;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            margin-bottom: 30px;
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            color: #ffffff;
            box-shadow: 
                inset 0 2px 10px rgba(0, 0, 0, 0.3),
                0 2px 4px rgba(0, 0, 0, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            letter-spacing: 2px;
        }
        
        .display:focus {
            outline: none;
            border-color: rgba(255, 119, 198, 0.5);
            box-shadow: 
                inset 0 2px 10px rgba(0, 0, 0, 0.3),
                0 0 20px rgba(255, 119, 198, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        .buttons {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .buttons-extra {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-bottom: 20px;
            margin-top: 20px;
        }

        .btn {
            height: 75px;
            font-size: 22px;
            font-weight: 600;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            cursor: pointer;
            position: relative;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            color: white;
            box-shadow: 
                0 8px 24px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.2),
                inset 0 -1px 0 rgba(0, 0, 0, 0.2);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }
        
        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, 
                transparent 30%, 
                rgba(255, 255, 255, 0.1) 50%, 
                transparent 70%);
            transform: translateX(-100%);
            transition: transform 0.6s;
        }
        
        .btn::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.3) 0%, transparent 70%);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }
        
        .btn:hover {
            transform: translateY(-3px) scale(1.02);
            background: rgba(255, 255, 255, 0.08);
            box-shadow: 
                0 12px 32px rgba(0, 0, 0, 0.4),
                0 0 40px rgba(255, 119, 198, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.3),
                inset 0 -1px 0 rgba(0, 0, 0, 0.3);
        }
        
        .btn:hover::before {
            transform: translateX(100%);
        }
        
        .btn:active {
            transform: translateY(0) scale(0.98);
            box-shadow: 
                0 4px 12px rgba(0, 0, 0, 0.3),
                inset 0 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .btn:active::after {
            width: 300px;
            height: 300px;
        }
        
        .btn:nth-child(1) { background: rgba(255, 119, 198, 0.1); }
        .btn:nth-child(2) { background: rgba(120, 119, 198, 0.1); }
        .btn:nth-child(3) { background: rgba(255, 206, 84, 0.1); }
        .btn:nth-child(4) { background: rgba(120, 255, 198, 0.1); }
        
        .btn-multiply { background: rgba(255, 100, 100, 0.1) !important; }
        .btn-25 { background: rgba(100, 255, 100, 0.1) !important; }
        .btn-4 { background: rgba(100, 100, 255, 0.1) !important; }
        .btn-equals2 { background: rgba(255, 200, 100, 0.1) !important; }

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }

        .modal-content {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            margin: 10% auto;
            padding: 50px;
            border-radius: 30px;
            width: 80%;
            max-width: 550px;
            text-align: center;
            animation: modalSlideIn 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 
                0 25px 50px rgba(0, 0, 0, 0.5),
                inset 0 1px 0 rgba(255, 255, 255, 0.2),
                inset 0 -1px 0 rgba(255, 255, 255, 0.1);
            position: relative;
        }
        
        .modal-content::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, 
                rgba(255, 119, 198, 0.3),
                rgba(120, 119, 198, 0.3),
                rgba(255, 206, 84, 0.3));
            border-radius: 30px;
            z-index: -1;
            opacity: 0.7;
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: scale(0.9) translateY(20px);
            }
            to {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }

        .loading {
            font-size: 26px;
            font-weight: 600;
            background: linear-gradient(90deg, 
                #ff77c6 0%, 
                #7877c6 25%, 
                #ffce54 50%, 
                #78ffc6 75%, 
                #ff77c6 100%);
            background-size: 200% auto;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 30px;
            animation: shimmer 3s linear infinite;
            letter-spacing: 1px;
        }
        
        @keyframes shimmer {
            0% { background-position: 0% center; }
            100% { background-position: 200% center; }
        }

        .spinner {
            width: 60px;
            height: 60px;
            margin: 30px auto;
            position: relative;
        }
        
        .spinner::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            border: 3px solid transparent;
            border-top-color: #ff77c6;
            border-right-color: #7877c6;
            border-bottom-color: #ffce54;
            border-left-color: #78ffc6;
            animation: spin 1.5s cubic-bezier(0.68, -0.55, 0.265, 1.55) infinite;
            box-sizing: border-box;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* 粒子背景 */
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: 1;
        }
        
        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: rgba(255, 255, 255, 0.5);
            border-radius: 50%;
            animation: particle-float 15s infinite linear;
        }
        
        @keyframes particle-float {
            0% {
                transform: translateY(100vh) translateX(0);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(-100vh) translateX(100px);
                opacity: 0;
            }
        }
        
        /* 提示文字 */
        .hint-text {
            position: absolute;
            bottom: -40px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 12px;
            color: rgba(255, 255, 255, 1);
            letter-spacing: 1px;
            opacity: 0;
            animation: hint-pulse 3s infinite;
        }
        
        @keyframes hint-pulse {
            0%, 100% { opacity: 0.4; }
            50% { opacity: 1.0; }
        }
        
        /* 彩蛋觸發效果 */
        .easter-egg {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            font-size: 100px;
            z-index: 9999;
            animation: easter-egg-pop 1s ease-out;
            pointer-events: none;
        }
        
        @keyframes easter-egg-pop {
            0% { transform: translate(-50%, -50%) scale(0) rotate(0deg); }
            50% { transform: translate(-50%, -50%) scale(1.2) rotate(180deg); }
            100% { transform: translate(-50%, -50%) scale(0) rotate(360deg); opacity: 0; }
        }
        
        /* 成就解鎖提示 */
        .achievement {
            position: fixed;
            top: 20px;
            right: -400px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            padding: 20px 30px;
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            font-weight: 600;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            transition: right 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            z-index: 1000;
        }
        
        .achievement.show {
            right: 20px;
        }
        
        .achievement-icon {
            display: inline-block;
            margin-right: 10px;
            font-size: 24px;
        }

        .video-container {
            display: none;
            margin-top: 20px;
        }

        video {
            width: 100%;
            max-width: 450px;
            border-radius: 20px;
            box-shadow: 
                0 20px 40px rgba(0, 0, 0, 0.4),
                0 0 60px rgba(255, 119, 198, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .sorry-message {
            display: none;
            font-size: 28px;
            font-weight: 600;
            color: #ffffff;
            margin-top: 30px;
            line-height: 1.6;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .sorry-message br + * {
            display: inline-block;
            margin-top: 10px;
            font-size: 24px;
            background: linear-gradient(135deg, #ff77c6 0%, #7877c6 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .answer-display {
            display: none;
            font-size: 72px;
            font-weight: 700;
            margin: 20px 0;
            background: linear-gradient(45deg, #ff77c6, #7877c6, #ffce54, #78ffc6);
            background-size: 200% 200%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: answer-glow 2s ease-in-out infinite;
            text-shadow: 0 0 50px rgba(255, 119, 198, 0.5);
        }
        
        @keyframes answer-glow {
            0%, 100% { 
                background-position: 0% 50%;
                transform: scale(1);
            }
            50% { 
                background-position: 100% 50%;
                transform: scale(1.1);
            }
        }
        
        @media (max-width: 600px) {
            .calculator-container {
                padding: 30px;
                margin: 20px;
            }
            
            h1 {
                font-size: 2.2em;
            }
            
            h1::after {
                display: none;
            }
            
            .btn {
                height: 65px;
                font-size: 18px;
            }
        }
    </style>
</head>
<body>
    <!-- 粒子背景 -->
    <div class="particles" id="particles"></div>
    <div class="calculator-container">
        <div class="hint-text">提示：試試看其他組合 😏</div>
        <h1>Cab Math 計算機</h1>
        <input type="text" class="display" id="display" readonly>
        <div class="buttons">
            <button class="btn" onclick="addToDisplay('16')" data-value="16">16</button>
            <button class="btn" onclick="addToDisplay('-')" data-value="-">-</button>
            <button class="btn" onclick="addToDisplay('9')" data-value="9">9</button>
            <button class="btn" onclick="calculate()" data-value="=">=</button>
        </div>
        <div class="buttons-extra">
            <button class="btn btn-25" onclick="addToDisplay('25')" data-value="25">25</button>
            <button class="btn btn-multiply" onclick="addToDisplay('×')" data-value="×">×</button>
            <button class="btn btn-4" onclick="addToDisplay('4')" data-value="4">4</button>
            <button class="btn btn-equals2" onclick="calculate()" data-value="=">=</button>
        </div>
    </div>

    <!-- 成就提示 -->
    <div class="achievement" id="achievement">
        <span class="achievement-icon">🏆</span>
        <span id="achievementText">成就解鎖！</span>
    </div>

    <!-- Modal -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <div class="loading">正在為您轉接人工計算...</div>
            <div class="spinner"></div>
            <div class="video-container" id="videoContainer">
                <video id="calculationVideo" controls>
                    <source src="./video.mp4" type="video/mp4">
                    您的瀏覽器不支援影片播放。
                </video>
            </div>
            <div class="sorry-message" id="sorryMessage">
                <span id="sorryText">很抱歉，這道題目太困難了<br>
                人工計算也算不出來！</span>
            </div>
            <div class="answer-display" id="answerDisplay">460</div>
        </div>
    </div>

    <script>
        let currentInput = '';
        let sequence = [];
        const correctSequence16_9 = ['16', '-', '9'];
        const correctSequence25x4 = ['25', '×', '4'];
        let clickCount = 0;
        let easterEggTriggered = false;
        let currentProblem = '';
        
        // 創建粒子背景
        function createParticles() {
            const particlesContainer = document.getElementById('particles');
            const particleCount = 50;
            
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 15 + 's';
                particle.style.animationDuration = (15 + Math.random() * 10) + 's';
                particlesContainer.appendChild(particle);
            }
        }
        
        // 播放按鈕音效
        function playButtonSound() {
            // 創建簡單的音效
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            oscillator.frequency.value = 400 + Math.random() * 200;
            oscillator.type = 'sine';
            
            gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.1);
            
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + 0.1);
        }
        
        // 顯示成就
        function showAchievement(text) {
            const achievement = document.getElementById('achievement');
            const achievementText = document.getElementById('achievementText');
            achievementText.textContent = text;
            achievement.classList.add('show');
            
            setTimeout(() => {
                achievement.classList.remove('show');
            }, 3000);
        }
        
        // 觸發彩蛋
        function triggerEasterEgg() {
            if (!easterEggTriggered) {
                const egg = document.createElement('div');
                egg.className = 'easter-egg';
                egg.textContent = '🎉';
                document.body.appendChild(egg);
                
                setTimeout(() => {
                    egg.remove();
                }, 1000);
                
                easterEggTriggered = true;
                showAchievement('🎊 發現隱藏彩蛋！');
            }
        }

        function addToDisplay(value) {
            const display = document.getElementById('display');
            
            // 播放音效
            playButtonSound();
            
            // 按鈕點擊計數
            clickCount++;
            
            // 彩蛋：點擊10次觸發
            if (clickCount === 10) {
                triggerEasterEgg();
            }
            
            // 如果是等號，不要加到顯示中
            if (value === '=') {
                return;
            }
            
            // 特殊組合彩蛋
            if (currentInput === '99' && value === '9') {
                showAchievement('🎮 999！電競之魂！');
            } else if (currentInput === '66' && value === '6') {
                showAchievement('😈 666！太6了！');
            }
            
            currentInput += value;
            display.value = currentInput;
            sequence.push(value);
            
            // 震動回饋（如果設備支援）
            if (navigator.vibrate) {
                navigator.vibrate(50);
            }
        }

        function calculate() {
            playButtonSound();
            
            // 檢查是否為 16-9
            if (sequence.length === 3 && 
                sequence[0] === '16' && 
                sequence[1] === '-' && 
                sequence[2] === '9') {
                
                currentProblem = '16-9';
                showAchievement('🎯 完美執行 16-9！');
                setTimeout(() => {
                    showModal();
                }, 500);
            } 
            // 檢查是否為 25×4
            else if (sequence.length === 3 && 
                     sequence[0] === '25' && 
                     sequence[1] === '×' && 
                     sequence[2] === '4') {
                
                currentProblem = '25×4';
                showAchievement('🎯 完美執行 25×4！');
                setTimeout(() => {
                    showModal();
                }, 500);
            }
            else if (currentInput === '999' || currentInput === '666') {
                showAchievement('🤔 這不是正確的題目！');
                setTimeout(() => {
                    reset();
                }, 1500);
            } else {
                // 如果順序錯誤，顯示提示
                const hint = document.querySelector('.hint-text');
                hint.textContent = '請嘗試 16-9 或 25×4';
                hint.style.opacity = '1';
                setTimeout(() => {
                    hint.style.opacity = '0';
                }, 3000);
                
                reset();
                showAchievement('❌ 請按正確順序輸入！');
            }
        }

        function showModal() {
            const modal = document.getElementById('modal');
            const videoContainer = document.getElementById('videoContainer');
            const video = document.getElementById('calculationVideo');
            const sorryMessage = document.getElementById('sorryMessage');
            
            // 根據不同題目設定不同影片
            if (currentProblem === '25×4') {
                video.src = './25x4.mp4';
            } else {
                video.src = './video.mp4';
            }
            
            modal.style.display = 'block';
            
            // 2秒後顯示影片
            setTimeout(() => {
                videoContainer.style.display = 'block';
                video.playbackRate = 2.0; // 設置為2倍速播放
                video.play();
            }, 2000);
            
            // 監聽影片播放結束事件
            video.addEventListener('ended', function() {
                videoContainer.style.display = 'none';
                
                if (currentProblem === '25×4') {
                    // 顯示答案 460
                    const answerDisplay = document.getElementById('answerDisplay');
                    const sorryText = document.getElementById('sorryText');
                    
                    sorryMessage.style.display = 'block';
                    sorryText.innerHTML = '經過人工精密計算<br>答案是：';
                    answerDisplay.style.display = 'block';
                    
                    showAchievement('🤓 數學天才！答案是 460！');
                } else {
                    // 16-9 的原始邏輯
                    sorryMessage.style.display = 'block';
                    document.getElementById('sorryText').innerHTML = '很抱歉，這道題目太困難了<br>人工計算也算不出來！';
                    showAchievement('🤯 人工智慧也算不出來！');
                }
                
                // 3秒後關閉模態框
                setTimeout(() => {
                    modal.style.display = 'none';
                    reset();
                    sorryMessage.style.display = 'none';
                    document.getElementById('answerDisplay').style.display = 'none';
                    
                    // 重置提示
                    const hint = document.querySelector('.hint-text');
                    if (currentProblem === '25×4') {
                        hint.textContent = '460！沒想到吧？再試試其他題目... 😏';
                    } else {
                        hint.textContent = '再試一次？或許有其他玩法... 🤫';
                    }
                    hint.style.opacity = '0.8';
                    setTimeout(() => {
                        hint.style.opacity = '0';
                    }, 5000);
                    
                    currentProblem = '';
                }, 4000);
            });
        }

        function reset() {
            currentInput = '';
            sequence = [];
            document.getElementById('display').value = '';
        }

        // 點擊模態框外部關閉
        window.onclick = function(event) {
            const modal = document.getElementById('modal');
            if (event.target === modal) {
                modal.style.display = 'none';
                reset();
                document.getElementById('videoContainer').style.display = 'none';
                document.getElementById('sorryMessage').style.display = 'none';
            }
        }

        // ESC鍵關閉模態框
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                const modal = document.getElementById('modal');
                modal.style.display = 'none';
                reset();
                document.getElementById('videoContainer').style.display = 'none';
                document.getElementById('sorryMessage').style.display = 'none';
            }
        });
        
        // 初始化
        window.addEventListener('DOMContentLoaded', function() {
            createParticles();
            
            // 隨機顯示提示
            const hints = [
                '提示：試試看 16-9 或 25×4 😏',
                '聽說有人找到了彩蛋...',
                '多點幾次會發生什麼？',
                '25×4 的答案可能會讓你驚訝...',
                '人工智慧真的會算數學嗎？'
            ];
            
            setInterval(() => {
                const hint = document.querySelector('.hint-text');
                if (Math.random() < 0.3) {
                    hint.textContent = hints[Math.floor(Math.random() * hints.length)];
                    hint.style.opacity = '0.6';
                    setTimeout(() => {
                        hint.style.opacity = '0';
                    }, 4000);
                }
            }, 10000);
        });
    </script>
</body>
</html>